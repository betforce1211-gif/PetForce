// =============================================================================
// Component Template: {{COMPONENT_NAME}}
// Generated by Engrid - Build it once, build it right, build it to last
// =============================================================================

import React, { memo, useCallback, useMemo } from 'react';
import { Platform } from '@/platform';
import { config } from '@/config';
import { useAnalytics } from '@/hooks/useAnalytics';
import type { {{COMPONENT_NAME}}Props } from './types';
import { styles } from './styles';

// =============================================================================
// CONFIGURATION
// =============================================================================

const componentConfig = {
  // All configurable values - no magic numbers!
  animationDuration: config.get('ui.animationDurationMs', 200),
  touchTargetSize: Platform.select({
    ios: 44,
    android: 48,
    web: 44,
    default: 44,
  }),
};

// =============================================================================
// COMPONENT
// =============================================================================

/**
 * {{COMPONENT_NAME}} - [Brief description]
 * 
 * @description
 * [Detailed description of what this component does]
 * 
 * @example
 * ```tsx
 * <{{COMPONENT_NAME}}
 *   prop1="value"
 *   onAction={handleAction}
 * />
 * ```
 * 
 * @platform web, ios, android
 */
export const {{COMPONENT_NAME}} = memo<{{COMPONENT_NAME}}Props>(function {{COMPONENT_NAME}}({
  // Destructure props with defaults
  children,
  disabled = false,
  loading = false,
  testID,
  onPress,
  ...rest
}) {
  // ===========================================================================
  // HOOKS
  // ===========================================================================
  
  const analytics = useAnalytics();
  
  // ===========================================================================
  // MEMOIZED VALUES
  // ===========================================================================
  
  const computedStyles = useMemo(() => ({
    ...styles.container,
    opacity: disabled ? 0.5 : 1,
    minHeight: componentConfig.touchTargetSize,
    minWidth: componentConfig.touchTargetSize,
  }), [disabled]);
  
  // ===========================================================================
  // CALLBACKS
  // ===========================================================================
  
  const handlePress = useCallback(() => {
    if (disabled || loading) return;
    
    // Track analytics
    analytics.track('{{COMPONENT_NAME}}_pressed');
    
    // Platform-specific feedback
    if (Platform.supports('haptics')) {
      Platform.haptics.impact('light');
    }
    
    onPress?.();
  }, [disabled, loading, onPress, analytics]);
  
  // ===========================================================================
  // RENDER
  // ===========================================================================
  
  // Platform-specific rendering
  if (Platform.isMobile) {
    return (
      <TouchableOpacity
        style={computedStyles}
        onPress={handlePress}
        disabled={disabled || loading}
        accessibilityRole="button"
        accessibilityState={{ disabled, busy: loading }}
        testID={testID}
        {...rest}
      >
        {loading ? <ActivityIndicator /> : children}
      </TouchableOpacity>
    );
  }
  
  // Web rendering (with hover support)
  return (
    <button
      style={computedStyles}
      onClick={handlePress}
      disabled={disabled || loading}
      aria-disabled={disabled}
      aria-busy={loading}
      data-testid={testID}
      {...rest}
    >
      {loading ? <Spinner /> : children}
    </button>
  );
});

// =============================================================================
// DISPLAY NAME (for debugging)
// =============================================================================

{{COMPONENT_NAME}}.displayName = '{{COMPONENT_NAME}}';

// =============================================================================
// DEFAULT EXPORT
// =============================================================================

export default {{COMPONENT_NAME}};
